---
import DesktopSearchBar from "@/components/info-search/desktop";
import Layout from "../layouts/Layout.astro";
import MobileSearchBar from "@/components/info-search/mobile";
import InfoSection from "@/components/info-section";
import { Item } from "@radix-ui/react-select";

interface NewsItem {
  student_news_id: number;
  title: string;
  news_category_name: string;
  news_contents: string;
  author_name: string;
  is_public: boolean;
  high_priority: boolean;
  publish_at: string;
  created_at: string;
  updated_at: string;
  read_at: string;
  is_read: boolean;
}

const fetchStudentNewsDatas = async () => {
  const response = await fetch("http://localhost:3000/student-news");
  const data = await response.json();
  return data;
};
const item = await fetchStudentNewsDatas();

// const items: NewsItem[] = [
//   {
//     postId: 1,
//     title: "【キャリアセンター】求人情報プリント発行します(8/26発行）",
//     description:
//       "Explore alternatives to MongoDB Realm and learn how Supabase provides powerful solutions for device synchronization and real-time database capabilities.",
//     category: "キャリアセンターより",
//     date: "2024年10月27日",
//   },
//   {
//     postId: 2,
//     title: "【キャリアセンター】8/10（土）～8/20（火）はお休みです",
//     description:
//       "Explore alternatives to MongoDB Realm and learn how Supabase provides powerful solutions for device synchronization and real-time database capabilities.",
//     category: "キャリアセンターより",
//     date: "2024年10月27日",
//   },
//   {
//     postId: 3,
//     title: "学校休館期間・先生の出勤のお知らせ",
//     description:
//       "Explore alternatives to MongoDB Realm and learn how Supabase provides powerful solutions for device synchronization and real-time database capabilities.",
//     category: "学校からの連絡",
//     date: "2024年10月27日",
//   },
//   {
//     postId: 4,
//     title:
//       "「外国人留学生の滞在に伴う家族等の渡日状況アンケート調査」への協力のお願い",
//     description:
//       "Explore alternatives to MongoDB Realm and learn how Supabase provides powerful solutions for device synchronization and real-time database capabilities.",
//     category: "その他",
//     date: "2024年10月27日",
//   },
//   {
//     postId: 5,
//     title: "TOEICの問題集を図書室に置きました",
//     description:
//       "Explore alternatives to MongoDB Realm and learn how Supabase provides powerful solutions for device synchronization and real-time database capabilities.",
//     category: "図書館からの連絡",
//     date: "2024年10月27日",
//   },
//   {
//     postId: 6,
//     title: "学年混合ゲーム制作イベントGameIndustriesJamを学生主体で開催！",
//     description:
//       "Explore alternatives to MongoDB Realm and learn how Supabase provides powerful solutions for device synchronization and real-time database capabilities.",
//     category: "学校からの連絡",
//     date: "2024年10月27日",
//   },
//   {
//     postId: 7,
//     title: "ピアスッタフ募集！！",
//     description:
//       "Explore alternatives to MongoDB Realm and learn how Supabase provides powerful solutions for device synchronization and real-time database capabilities.",
//     category: "学校からの連絡",
//     date: "2024年10月27日",
//   },
//   {
//     postId: 8,
//     title: "夏期選択講座 受講許可一覧",
//     description:
//       "Explore alternatives to MongoDB Realm and learn how Supabase provides powerful solutions for device synchronization and real-time database capabilities.",
//     category: "学校からの連絡",
//     date: "2024年10月27日",
//   },
//   {
//     postId: 9,
//     title: "保健室・学生相談室だより【夏号】",
//     description:
//       "Explore alternatives to MongoDB Realm and learn how Supabase provides powerful solutions for device synchronization and real-time database capabilities.",
//     category: "学校からの連絡",
//     date: "2024年10月27日",
//   },
//   {
//     postId: 10,
//     title: "近隣のマンションから苦情がきています。",
//     description:
//       "Explore alternatives to MongoDB Realm and learn how Supabase provides powerful solutions for device synchronization and real-time database capabilities.",
//     category: "学校からの連絡",
//     date: "2024年10月27日",
//   },
// ];
---

<Layout title="ホーム">
  <main
    class="mt-12 md:container mx-auto lg:mt-8 px-6 sm:px-16 xl:px-20 min-h-screen max-w-screen-2xl w-full"
  >
    <DesktopSearchBar client:load />
    <MobileSearchBar client:load />
    <InfoSection client:load items={item} />
  </main>
</Layout>
